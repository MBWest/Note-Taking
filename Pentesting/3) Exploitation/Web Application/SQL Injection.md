# SQL Injection

> ## **Common SQL Terms**

| `TERM` | `Definition` |
|--------|-------------|
| `-----VERB-----` |
| `SELECT` | Retrieves data from a table |
| `INSERT` | Adds data to a table |
| `DELETE` | Removes data from a table | 
| `UPDATE` | Modifies data in a table |
| `DROP` | Delete a table |
| `UNION` | Combines data from multiple queries |
| `-----Other Common Terms-----` |
| `WHERE` | Filters records based on specific condition |
| `AND/OR/NOT` | Filter records based on multiple conditions |
| `ORDER BY` | Sorts records in ascending/descending order |

------

> ## **Special Characters**

| `Character` | `Usage` |
|--------|-------------|
| `'` or `"` | String delimiters |
| `--` or `/*` or `#` | Comment delimiters |
| `*` or `%` | Wildcards |
| `;` | Ends SQL statement |

------

> ## **Example Attack Scenarios**

**Scenario #1**: Login application uses SQL to athenticate to the website:

Input: `test' or 1=1; --`

SQL: SELECT * FROM Users WHERE email ='`test' or 1=1; --`';

**Scenario #2**: An application uses untrusted data in the construction of the following vulnerable SQL call:

`String query = "SELECT * FROM accounts WHERE custID='" + request.getParameter("id") + "'";`

**Scenario #3**: Similarly, an application’s blind trust in frameworks may result in queries that are still vulnerable, (e.g. Hibernate Query Language (HQL)):

`Query HQLQuery = session.createQuery("FROM accounts WHERE custID='" + request.getParameter("id") + "'");`

In case #2 and #3 the attacker modifies the ‘id’ parameter value in their browser to send: ‘ or ‘1’=’1. For example:

`http://example.com/app/accountView?id=' or '1'='1`

------

> ## **Resources**

`https://owasp.org/www-project-top-ten/2017/A1_2017-Injection.html`